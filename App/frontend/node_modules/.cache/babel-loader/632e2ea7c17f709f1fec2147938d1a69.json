{"ast":null,"code":"var _jsxFileName = \"/Users/m.asyam/Desktop/AcademicAxis/App/frontend/src/view/pupil/pupilPanel.js\";\nimport React from \"react\";\nimport { checkUserType } from \"../../api/APIUtils\";\nimport Dropdown from \"react-dropdown\";\nimport { getClassname, getAllAssignedSubjects, getAllTests, getAllClasses } from \"../../api/PupilAPI\";\nimport PupilTestDetails from \"./PupilTestDetails\";\nimport '../../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst redirectpath = \"/login\";\nconst options = [{\n  value: \"ALL\",\n  label: \"All Users\"\n}, {\n  value: \"Admin\",\n  label: \"Admin\"\n}, {\n  value: \"Pupil\",\n  label: \"Pupil\"\n}, {\n  value: \"Teacher\",\n  label: \"Teacher\"\n}];\nexport default class pupilPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid: this.props.location.state.uid,\n      className: \"\",\n      classId: \"\",\n      allClasses: [],\n      token: this.props.location.state ? \"token \" + this.props.location.state.token : \"\",\n      subjectList: [],\n      subjectTestDetailsList: [],\n      showPopup: false,\n      popupHeaderText: \"\",\n      t_firstn: this.props.location.state.t_firstn,\n      t_lastn: this.props.location.state.t_lastn\n    };\n    this.logoutAction = this.logoutAction.bind(this);\n    this.loadFillData = this.loadFillData.bind(this);\n    this.closePopup = this.closePopup.bind(this);\n    this.getLoggedInClassname = this.getLoggedInClassname.bind(this);\n    this.getAllSUbjects = this.getAllSUbjects.bind(this);\n    this.getAllTestResult = this.getAllTestResult.bind(this);\n    this.getAllPupilClasses = this.getAllPupilClasses.bind(this);\n  }\n\n  componentDidMount() {\n    var that = this;\n    var pid = that.state.uid;\n    var token = this.props.location.state ? this.props.location.state.token : \"\";\n\n    if (token) {\n      window.onpopstate = function (event) {\n        that.props.history.go(1);\n      };\n    }\n\n    checkUserType(\"token \" + token).then(res => {\n      if (res.status === \"FAILED\") that.props.history.push(\"/\");\n    });\n    that.getLoggedInClassname(pid, token);\n    that.getAllPupilClasses(pid, token); //that.getLoggedInSUbjects(pid, cid, token);\n  }\n\n  render() {\n    var that = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fill-window\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-title-area\",\n          style: {\n            paddingBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"30\",\n              height: \"30\",\n              margin: \"10px\",\n              fill: \"currentColor\",\n              class: \"bi bi-person-badge\",\n              viewBox: \"0 0 16 16\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5 0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2 0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0 0-.776.492V2.5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), \"\\xA0 Pupil View\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'right',\n              marginTop: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"20\",\n                height: \"20\",\n                fill: \"currentColor\",\n                class: \"bi bi-person-circle\",\n                viewBox: \"0 0 16 16\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  \"fill-rule\": \"evenodd\",\n                  d: \"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), \"\\xA0 \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [this.state.t_firstn, \" \", this.state.t_lastn]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              style: {\n                margin: '5px 0 0 0'\n              },\n              className: \"btn\",\n              onClick: this.logoutAction,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-area\",\n          style: {\n            backgroundColor: '#f9fbfd'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selection-area\",\n              style: {\n                marginTop: '50px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropDownItem card row justify-content-center align-items-center\",\n                style: {\n                  height: '150px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [\"You are in class \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  style: {\n                    color: '#2c7be5'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: [that.state.className, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 50\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropDownItem card row justify-content-center align-items-center\",\n                style: {\n                  marginTop: '20px',\n                  height: '200px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Select a class\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 24\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n                  classname: \"style.dropDown\",\n                  options: that.state.allClasses,\n                  onChange: that.getAllSUbjects,\n                  placeholder: \"Select a class\",\n                  placeholderClassName: \"myPlaceholderClassName\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-box\",\n              style: {\n                marginTop: '50px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ag-theme-alpine data-table\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"table-scroll\",\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"table table-hover\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      className: \"thead-light\",\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"Subject\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 121,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"Avg. Grade\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 122,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"Details\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 123,\n                          columnNumber: 25\n                        }, this)]\n                      }, \"user_key1\", true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: this.loadFillData()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), that.state.showPopup ? /*#__PURE__*/_jsxDEV(PupilTestDetails, {\n          subjectTestDetailsList: that.state.subjectTestDetailsList,\n          popupHeaderText: that.state.popupHeaderText,\n          closePopup: that.closePopup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this);\n  }\n\n  logoutAction() {\n    var that = this;\n    that.setState({\n      token: \"\"\n    }, () => {\n      that.props.history.push({\n        pathname: redirectpath\n      });\n    });\n  }\n\n  loadFillData() {\n    if (this.state.subjectList.length) {\n      return this.state.subjectList.map(data => {\n        if (data.avgGrade || data.sid || data.subjectname) {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: data.subjectname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: data.avgGrade\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn p-0\",\n                onClick: () => this.openDetailsPopup(data),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  width: \"20\",\n                  height: \"20\",\n                  fill: \"currentColor\",\n                  class: \"bi bi-view-list\",\n                  viewBox: \"0 0 16 16\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M3 4.5h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H3zM1 2a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 2zm0 12a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 14z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 18\n            }, this)]\n          }, data.sid, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 16\n          }, this);\n        }\n      });\n    }\n  }\n\n  openDetailsPopup(data) {\n    var that = this;\n    that.setState({\n      popupHeaderText: \"Test Details for \" + data.subjectname\n    });\n    getAllTests(data.sid, that.state.uid, that.state.token).then(data => {\n      that.setState({\n        subjectTestDetailsList: data.data\n      }, () => {\n        that.togglePopup();\n      });\n    });\n  }\n\n  closePopup() {\n    this.setState({\n      popupHeaderText: \"\" // subjectTestDetailsList:[]\n\n    }, () => {\n      this.togglePopup();\n    });\n  }\n\n  togglePopup() {\n    this.setState({\n      showPopup: !this.state.showPopup\n    });\n  }\n\n  getLoggedInClassname(pid, token) {\n    getClassname(pid, \"Token \" + token).then(data => {\n      this.setState({\n        className: data.classname,\n        classId: data.cid\n      }, () => {\n        console.log(this.state.classId);\n      });\n    });\n  }\n\n  getAllPupilClasses(pid, token) {\n    var tempList = [];\n    getAllClasses(pid, \"Token \" + token).then(data => {\n      console.log(data);\n      data.forEach(info => {\n        var obj = {\n          value: info.cid,\n          label: info.classname\n        };\n        tempList.push(obj);\n      });\n      this.setState({\n        allClasses: tempList\n      });\n    });\n  }\n\n  getAllSUbjects(e) {\n    var cid = e.value;\n    var pid = this.state.uid;\n    var token = this.state.token;\n    getAllAssignedSubjects(pid, cid, token).then(data => {\n      this.setState({\n        subjectList: data.data\n      });\n    });\n  }\n\n  getAllTestResult(sid, pid, token) {\n    getAllTests(sid, pid, \"Token \" + token).then(data => {\n      this.setState({\n        subjectTestDetailsList: data.data\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/m.asyam/Desktop/AcademicAxis/App/frontend/src/view/pupil/pupilPanel.js"],"names":["React","checkUserType","Dropdown","getClassname","getAllAssignedSubjects","getAllTests","getAllClasses","PupilTestDetails","redirectpath","options","value","label","pupilPanel","Component","constructor","props","state","uid","location","className","classId","allClasses","token","subjectList","subjectTestDetailsList","showPopup","popupHeaderText","t_firstn","t_lastn","logoutAction","bind","loadFillData","closePopup","getLoggedInClassname","getAllSUbjects","getAllTestResult","getAllPupilClasses","componentDidMount","that","pid","window","onpopstate","event","history","go","then","res","status","push","render","paddingBottom","textAlign","marginTop","margin","backgroundColor","height","color","setState","pathname","length","map","data","avgGrade","sid","subjectname","openDetailsPopup","togglePopup","classname","cid","console","log","tempList","forEach","info","obj","e"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {checkUserType} from \"../../api/APIUtils\";\nimport Dropdown from \"react-dropdown\";\nimport {\n  getClassname,\n  getAllAssignedSubjects,\n  getAllTests,\n  getAllClasses,\n} from \"../../api/PupilAPI\";\n\nimport PupilTestDetails from \"./PupilTestDetails\";\nimport '../../App.css';\n\nconst redirectpath = \"/login\";\n\nconst options = [\n  {value: \"ALL\", label: \"All Users\"},\n  {value: \"Admin\", label: \"Admin\"},\n  {value: \"Pupil\", label: \"Pupil\"},\n  {value: \"Teacher\", label: \"Teacher\"},\n];\n\nexport default class pupilPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      uid: this.props.location.state.uid,\n      className: \"\",\n      classId: \"\",\n      allClasses: [],\n      token: this.props.location.state\n          ? \"token \" + this.props.location.state.token\n          : \"\",\n      subjectList: [],\n      subjectTestDetailsList: [],\n      showPopup: false,\n      popupHeaderText: \"\",\n      t_firstn:this.props.location.state.t_firstn,\n      t_lastn:this.props.location.state.t_lastn\n    };\n\n    this.logoutAction = this.logoutAction.bind(this);\n    this.loadFillData = this.loadFillData.bind(this);\n    this.closePopup = this.closePopup.bind(this);\n    this.getLoggedInClassname = this.getLoggedInClassname.bind(this);\n    this.getAllSUbjects = this.getAllSUbjects.bind(this);\n    this.getAllTestResult = this.getAllTestResult.bind(this);\n    this.getAllPupilClasses = this.getAllPupilClasses.bind(this);\n  }\n\n  componentDidMount() {\n    var that = this;\n    var pid = that.state.uid;\n    var token = this.props.location.state\n        ? this.props.location.state.token\n        : \"\";\n    if (token) {\n      window.onpopstate = function (event) {\n        that.props.history.go(1);\n      };\n    }\n    checkUserType(\"token \" + token).then((res) => {\n      if (res.status === \"FAILED\") that.props.history.push(\"/\");\n    });\n    that.getLoggedInClassname(pid, token);\n    that.getAllPupilClasses(pid, token);\n\n\n    //that.getLoggedInSUbjects(pid, cid, token);\n  }\n\n  render() {\n    var that = this;\n    return (\n        <div>\n          <div className=\"fill-window\">\n            <div className='main-title-area' style={{paddingBottom: '20px'}}>\n            <h3>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" margin=\"10px\" fill=\"currentColor\" class=\"bi bi-person-badge\" viewBox=\"0 0 16 16\">\n                <path d=\"M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"></path>\n                <path d=\"M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5 0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2 0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0 0-.776.492V2.5z\"></path>\n              </svg>\n              &nbsp; Pupil View</h3>\n              <div style={{textAlign:'right', marginTop:'10px'}}>\n                <h6> \n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-person-circle\" viewBox=\"0 0 16 16\">\n                    <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"></path>\n                    <path fill-rule=\"evenodd\" d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"></path>\n                  </svg>\n                  &nbsp; <b>{this.state.t_firstn} {this.state.t_lastn}</b></h6>\n               <button type=\"button\" style={{margin:'5px 0 0 0'}} className=\"btn\" onClick={this.logoutAction}>Logout</button>\n              </div>\n            </div>\n            <div className='tab-area'  style={{backgroundColor:'#f9fbfd'}}>\n              <div className=\"box-container\">\n                <div className='selection-area' style={{marginTop: '50px'}}>\n                \n                <div className=\"dropDownItem card row justify-content-center align-items-center\" style={{height:'150px'}}>\n                   <h5>You are in class <br/></h5>\n                   <h6 style={{color:'#2c7be5'}}><b>{that.state.className} </b></h6>\n                  </div>\n                \n                <div className=\"dropDownItem card row justify-content-center align-items-center\" style={{marginTop:'20px', height:'200px'}}>\n                    <p><b>Select a class</b></p>\n                  <Dropdown\n                      classname=\"style.dropDown\"\n                      options={that.state.allClasses}\n                      onChange={that.getAllSUbjects}\n                      placeholder=\"Select a class\"\n                      placeholderClassName=\"myPlaceholderClassName\"\n                  />\n                  </div>\n                </div>\n                <div className=\"table-box\" style={{marginTop: '50px'}}>\n                <div className=\"ag-theme-alpine data-table\">\n                  <div className=\"table-scroll\">\n                    <table className=\"table table-hover\">\n                      <thead className=\"thead-light\">\n                      <tr key={\"user_key1\"}>\n                        <th scope=\"col\">Subject</th>\n                        <th scope=\"col\">Avg. Grade</th>\n                        <th scope=\"col\">Details</th>\n                      </tr>\n                      </thead>\n                      <tbody>\n                      {this.loadFillData()}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n                </div>\n              </div>\n            </div>\n            {that.state.showPopup ? (\n                <PupilTestDetails\n                    subjectTestDetailsList={that.state.subjectTestDetailsList}\n                    popupHeaderText={that.state.popupHeaderText}\n                    closePopup={that.closePopup}\n                />\n            ) : null}\n          </div>\n        </div>\n    );\n  }\n\n  logoutAction() {\n    var that = this;\n    that.setState({token: \"\"}, () => {\n      that.props.history.push({pathname: redirectpath});\n    });\n  }\n\n  loadFillData() {\n    if (this.state.subjectList.length) {\n      return this.state.subjectList.map((data) => {\n         if (data.avgGrade || data.sid || data.subjectname) {\n           return (\n               <tr key={data.sid}>\n                 <th>{data.subjectname}</th>\n                 <th>{data.avgGrade}</th>\n                 <td>\n                   {\n                     <button\n                         className=\"btn p-0\"\n                         onClick={() => this.openDetailsPopup(data)}\n                     >\n                       <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-view-list\" viewBox=\"0 0 16 16\">\n                        <path d=\"M3 4.5h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H3zM1 2a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 2zm0 12a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 14z\"></path>\n                      </svg>\n                     </button>\n                   }\n                 </td>\n               </tr>\n           );\n         }\n      });\n    }\n  }\n\n  openDetailsPopup(data) {\n    var that = this;\n    that.setState({popupHeaderText: \"Test Details for \" + data.subjectname});\n    getAllTests(data.sid, that.state.uid, that.state.token).then((data) => {\n      that.setState(\n          {\n            subjectTestDetailsList: data.data,\n          },\n          () => {\n            that.togglePopup();\n          }\n      );\n    });\n  }\n\n  closePopup() {\n    this.setState(\n        {\n          popupHeaderText: \"\",\n          // subjectTestDetailsList:[]\n        },\n        () => {\n          this.togglePopup();\n        }\n    );\n  }\n\n  togglePopup() {\n    this.setState({showPopup: !this.state.showPopup});\n  }\n\n  getLoggedInClassname(pid, token) {\n    getClassname(pid, \"Token \" + token).then((data) => {\n      this.setState({className: data.classname, classId: data.cid}, () => {\n        console.log(this.state.classId)\n      });\n    });\n  }\n\n\n  getAllPupilClasses(pid, token) {\n    var tempList = [];\n    getAllClasses(pid, \"Token \" + token).then((data) => {\n      console.log(data)\n      data.forEach((info) => {\n        var obj = {value: info.cid, label: info.classname};\n        tempList.push(obj);\n      });\n      this.setState({allClasses: tempList});\n    });\n  }\n\n  getAllSUbjects(e) {\n    var cid = e.value;\n    var pid = this.state.uid;\n    var token = this.state.token;\n    getAllAssignedSubjects(pid, cid, token).then((data) => {\n      this.setState({subjectList: data.data});\n    });\n  }\n\n  getAllTestResult(sid, pid, token) {\n    getAllTests(sid, pid, \"Token \" + token).then((data) => {\n      this.setState({subjectTestDetailsList: data.data});\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}