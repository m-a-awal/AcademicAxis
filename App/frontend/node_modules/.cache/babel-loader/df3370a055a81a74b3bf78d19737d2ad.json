{"ast":null,"code":"var _jsxFileName = \"/Users/m.asyam/Desktop/AcademicAxis/App/frontend/src/view/admin/Component/SubjectPopUp.js\";\nimport React from 'react';\nimport '../../../App.css';\nimport Dropdown from \"react-dropdown\";\nimport 'react-dropdown/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StatusOptions = [{\n  value: 'Archived',\n  label: 'Archived'\n}, {\n  value: 'Not Archived',\n  label: 'Not Archived'\n}];\n\nclass SubjectPopUp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      classname: this.props.subjectInfo.classname,\n      subjectname: this.props.subjectInfo.subjectname,\n      tname: this.props.subjectInfo.tname,\n      //Here uid is the teacher id\n      uid: this.props.subjectInfo.uid,\n      sid: this.props.subjectInfo.sid,\n      selectedClass: this.props.selectedClass,\n      allTeacher: this.props.allTeacher,\n      selectedStatus: ''\n    };\n    this.oninputChange = this.oninputChange.bind(this);\n    this.onTeacherSelect = this.onTeacherSelect.bind(this);\n    this.onStatusSelect = this.onStatusSelect.bind(this);\n    this.setSubjectID = this.setSubjectID.bind(this);\n    this.sendData = this.sendData.bind(this);\n    this.resetState = this.resetState.bind(this);\n    this.close = this.close.bind(this);\n  }\n\n  render() {\n    var that = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App popup_inner\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom_pop\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: that.props.popupHeaderText + \" \" + (that.props.popupHeaderText !== \"Update\" ? 'Subject' : '')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [console.log(that.state.selectedClass), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Class name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"classname\",\n              defaultValue: that.state.classname,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \" Subject Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"subjectname\",\n              defaultValue: that.props.popupHeaderText === \"Update\" ? that.state.subjectname : \"\",\n              onChange: that.oninputChange.bind(this, \"subjectname\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \" Teacher \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n              classname: \"style.dropDown\",\n              options: this.state.allTeacher,\n              value: this.state.uid,\n              onChange: this.onTeacherSelect,\n              placeholder: \"Choose a Teacher\",\n              placeholderClassName: \"myPlaceholderClassName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), that.props.popupHeaderText === \"Update\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \" Status \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n                classname: \"style.dropDown\",\n                options: StatusOptions,\n                value: \"Not Archived\",\n                onChange: this.onStatusSelect,\n                placeholder: \"Set a status\",\n                placeholderClassName: \"myPlaceholderClassName\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popup-button-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              id: \"addUpdate_btn\",\n              onClick: that.sendData,\n              children: this.props.popupBtnText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              id: \"cancel_btn\",\n              onClick: this.close,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  } //******************* Changes On Select/Input ********************/\n\n\n  oninputChange(key, e) {\n    switch (key) {\n      case \"subjectname\":\n        this.setState({\n          subjectname: e.target.value\n        });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  onTeacherSelect(e) {\n    this.setState({\n      uid: e.value\n    });\n  }\n\n  onStatusSelect(e) {\n    this.setState({\n      selectedStatus: e.value\n    });\n  } //******************* Send Data to Subject Tab Component ********************/\n\n\n  setSubjectID() {\n    return \"SUB\" + Date.now();\n  }\n\n  sendData() {\n    var tempStatus = this.state.selectedStatus;\n    if (this.state.selectedStatus === \"\") tempStatus = \"Not Archived\";\n    var data = this.props.popupBtnText === \"Add\" ? {\n      \"classname\": this.state.classname,\n      \"subjectname\": this.state.subjectname,\n      \"uid\": this.state.uid,\n      \"cid\": this.state.selectedClass,\n      \"status\": \"Not Archived\",\n      \"sid\": this.setSubjectID()\n    } : {\n      \"classname\": this.state.classname,\n      \"subjectname\": this.state.subjectname,\n      \"uid\": this.state.uid,\n      \"cid\": this.state.selectedClass,\n      \"status\": tempStatus,\n      \"sid\": this.state.sid\n    }; //this.resetState();\n\n    if (this.props.popupBtnText === \"Add\") {\n      if (data.subjectname.length && data.uid.length) this.props.addSubject(data);else alert(\"Subject and Teacher name cannot be empty\");\n    } else {\n      if (data.subjectname.length && data.uid.length && data.status.length) this.props.updateInfo(data);else alert(\"Please provide all info\");\n    }\n  } //******************* Close PopUp & Reset State ********************/\n\n\n  close() {\n    this.props.closePopup();\n  }\n\n  resetState() {\n    this.setState({\n      classname: '',\n      subjectname: '',\n      tname: '',\n      //Here uid is the teacher id\n      uid: '',\n      sid: '',\n      selectedClass: '',\n      allTeacher: '',\n      selectedStatus: ''\n    });\n  }\n\n}\n\nexport default SubjectPopUp;","map":{"version":3,"sources":["/Users/m.asyam/Desktop/AcademicAxis/App/frontend/src/view/admin/Component/SubjectPopUp.js"],"names":["React","Dropdown","StatusOptions","value","label","SubjectPopUp","Component","constructor","props","state","classname","subjectInfo","subjectname","tname","uid","sid","selectedClass","allTeacher","selectedStatus","oninputChange","bind","onTeacherSelect","onStatusSelect","setSubjectID","sendData","resetState","close","render","that","popupHeaderText","console","log","popupBtnText","key","e","setState","target","Date","now","tempStatus","data","length","addSubject","alert","status","updateInfo","closePopup"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../../App.css';\nimport Dropdown from \"react-dropdown\";\n\nimport 'react-dropdown/style.css';\n\nconst StatusOptions = [\n  { value: 'Archived', label: 'Archived' },\n  { value: 'Not Archived', label: 'Not Archived' }\n];\n\nclass SubjectPopUp extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      classname: this.props.subjectInfo.classname,\n      subjectname: this.props.subjectInfo.subjectname,\n      tname: this.props.subjectInfo.tname,\n      //Here uid is the teacher id\n      uid: this.props.subjectInfo.uid,\n      sid: this.props.subjectInfo.sid,\n      selectedClass: this.props.selectedClass,\n      allTeacher: this.props.allTeacher,\n      selectedStatus: ''\n    }\n    this.oninputChange = this.oninputChange.bind(this);\n    this.onTeacherSelect = this.onTeacherSelect.bind(this);\n    this.onStatusSelect = this.onStatusSelect.bind(this);\n    this.setSubjectID = this.setSubjectID.bind(this);\n    this.sendData = this.sendData.bind(this);\n    this.resetState = this.resetState.bind(this);\n    this.close = this.close.bind(this);\n  }\n\n  render() {\n    var that = this;\n    return (\n      <div className='popup'>\n        <div className='App popup_inner'>\n          <div className=\"custom_pop\">\n            <h2>{that.props.popupHeaderText + \" \" + (that.props.popupHeaderText !== \"Update\" ? 'Subject' : '')}</h2>\n            <br />\n            <div>\n              {console.log(that.state.selectedClass)}\n              <label> <b>Class name</b></label>\n              <br />\n              <input className=\"form-control\" type=\"text\" name=\"classname\" defaultValue={that.state.classname} disabled />\n              <br />\n\n              <label><b> Subject Name</b></label>\n              <input className=\"form-control\" type=\"text\" name=\"subjectname\" defaultValue={that.props.popupHeaderText === \"Update\" ? that.state.subjectname : \"\"}\n                onChange={that.oninputChange.bind(this, \"subjectname\")}\n              />\n              <br />\n\n              <label><b> Teacher </b></label>\n              <br />\n              <Dropdown classname='style.dropDown'\n                options={this.state.allTeacher}\n                value={this.state.uid}\n                onChange={this.onTeacherSelect}\n                placeholder=\"Choose a Teacher\"\n                placeholderClassName='myPlaceholderClassName' />\n              <br />\n\n              {that.props.popupHeaderText === \"Update\" ?\n                <div>\n                  <label><b> Status </b></label>\n                  <Dropdown classname='style.dropDown'\n                    options={StatusOptions}\n                    value={\"Not Archived\"}\n                    onChange={this.onStatusSelect}\n                    placeholder=\"Set a status\"\n                    placeholderClassName='myPlaceholderClassName' />\n                  <br />\n                </div> : null}\n            </div>\n            <div className=\"popup-button-area\">\n              <button className='btn btn-primary' id=\"addUpdate_btn\" onClick={that.sendData}>{this.props.popupBtnText}</button>\n              <button className='btn btn-danger' id=\"cancel_btn\" onClick={this.close}>{\"Close\"}</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n\n  //******************* Changes On Select/Input ********************/\n\n  oninputChange(key, e) {\n    switch (key) {\n      case \"subjectname\":\n        this.setState({ subjectname: e.target.value });\n        break;\n      default:\n        break;\n    }\n  }\n\n  onTeacherSelect(e) {\n    this.setState({ uid: e.value })\n  }\n\n  onStatusSelect(e) {\n    this.setState({ selectedStatus: e.value })\n  }\n\n\n  //******************* Send Data to Subject Tab Component ********************/\n\n  setSubjectID() {\n    return \"SUB\" + Date.now()\n  }\n\n  sendData() {\n    var tempStatus = this.state.selectedStatus;\n    if (this.state.selectedStatus === \"\")\n      tempStatus = \"Not Archived\"\n\n    var data = this.props.popupBtnText === \"Add\" ? {\n      \"classname\": this.state.classname,\n      \"subjectname\": this.state.subjectname,\n      \"uid\": this.state.uid,\n      \"cid\": this.state.selectedClass,\n      \"status\": \"Not Archived\",\n      \"sid\": this.setSubjectID()\n\n    } : {\n      \"classname\": this.state.classname,\n      \"subjectname\": this.state.subjectname,\n      \"uid\": this.state.uid,\n      \"cid\": this.state.selectedClass,\n      \"status\": tempStatus,\n      \"sid\": this.state.sid\n    }\n\n    //this.resetState();\n\n    if (this.props.popupBtnText === \"Add\") {\n      if (data.subjectname.length && data.uid.length)\n        this.props.addSubject(data)\n\n      else alert(\"Subject and Teacher name cannot be empty\");\n    } else {\n      if (data.subjectname.length && data.uid.length && data.status.length)\n        this.props.updateInfo(data);\n      else alert(\"Please provide all info\")\n    }\n  }\n\n\n  //******************* Close PopUp & Reset State ********************/\n\n  close() {\n    this.props.closePopup();\n  }\n\n  resetState() {\n    this.setState({\n      classname: '',\n      subjectname: '',\n      tname: '',\n      //Here uid is the teacher id\n      uid: '',\n      sid: '',\n      selectedClass: '',\n      allTeacher: '',\n      selectedStatus: ''\n    })\n  }\n\n}\n\nexport default SubjectPopUp;\n"]},"metadata":{},"sourceType":"module"}