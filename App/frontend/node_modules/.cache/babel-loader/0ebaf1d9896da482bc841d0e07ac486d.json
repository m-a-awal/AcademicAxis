{"ast":null,"code":"var _jsxFileName = \"/Users/m.asyam/Desktop/AcademicAxis/App/frontend/src/view/admin/Component/SubjectTab.js\";\nimport React from 'react';\nimport Dropdown from \"react-dropdown\";\nimport { getUsersByRole, getAllClassWithRemoved, getSubjectClassTeacherTogether, checkSubjectExists, createSubject, updateSubject, deleteSubject } from '../../../api/AdminAPI';\nimport SubjectPopUp from \"./SubjectPopUp\";\nimport './UserTab.css';\nimport '../../../App.css';\nimport 'react-dropdown/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class SubjectTab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allClass: [],\n      allTeacher: [],\n      list: [],\n      classIsRemovedStatus: [],\n      showPopup: false,\n      selectedClass: '',\n      popupHeaderText: '',\n      popupBtnText: '',\n      subjectInfo: {\n        classname: '',\n        subjectname: '',\n        tname: '',\n        uid: '',\n        status: ''\n      },\n      token: \"token \" + this.props.token\n    };\n    this.onClassSelect = this.onClassSelect.bind(this);\n    this.getAllClassWithRemoved = this.getAllClassWithRemoved.bind(this);\n    this.loadFillData = this.loadFillData.bind(this); /// Popup functions\n\n    this.openAddNewSubjectPopUp = this.openAddNewSubjectPopUp.bind(this);\n    this.addSubject = this.addSubject.bind(this);\n    this.updateInfo = this.updateInfo.bind(this);\n    this.closePopup = this.closePopup.bind(this);\n    this.togglePopup = this.togglePopup.bind(this);\n  }\n\n  componentDidMount() {\n    var token = this.props.token;\n    this.getAllClassWithRemoved(\"tokeon \" + token);\n    this.getAllTeacher(\"tokeon \" + token);\n  }\n\n  render() {\n    var that = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          color: '#8c8c8c',\n          textAlign: 'left',\n          margin: '10px 0 10px 9.9%'\n        },\n        children: \"Subject Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selection-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropDownItem card row justify-content-center align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Select a class\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n              classname: \"style.dropDown\",\n              options: this.state.allClass,\n              onChange: this.onClassSelect,\n              value: this.state.allClass[0],\n              placeholder: \"Choose a class\",\n              placeholderClassName: \"myPlaceholderClassName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SecondItem card row justify-content-center align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Add a new subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success \",\n              onClick: this.openAddNewSubjectPopUp,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ag-theme-alpine data-table\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-scroll\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table table-hover\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"thead-light\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Class\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Subject\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Teacher\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Status\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Update\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Remove Subject\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 23\n                    }, this)]\n                  }, \"user_key1\", true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: this.loadFillData()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), that.state.showPopup ? /*#__PURE__*/_jsxDEV(SubjectPopUp, {\n          subjectInfo: that.state.subjectInfo,\n          selectedClass: that.state.selectedClass,\n          allTeacher: this.state.allTeacher,\n          popupHeaderText: that.state.popupHeaderText,\n          popupBtnText: that.state.popupBtnText,\n          updateInfo: that.updateInfo,\n          addSubject: that.addSubject,\n          closePopup: that.closePopup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  } //******************* Changes On Select ********************/\n\n\n  onClassSelect(e) {\n    var that = this;\n    that.setState({\n      subjectInfo: {\n        classname: e.label\n      }\n    });\n    this.setState({\n      selectedClass: e.value\n    }, () => {\n      getSubjectClassTeacherTogether(e.value, that.state.token).then(data => {\n        //debugger;\n        that.setState({\n          list: data.data\n        });\n      });\n    });\n  } //******************* Load Dropdown ********************/\n\n\n  getAllTeacher(token) {\n    var tList = [];\n    getUsersByRole(\"Teacher\", token).then(data => {\n      if (data.data != null) {\n        data.data.forEach(info => {\n          var tname = info.firstname + \" \" + info.lastname;\n          var obj = {\n            value: info.uid,\n            label: tname\n          };\n          tList.push(obj);\n        });\n        this.setState({\n          allTeacher: tList\n        });\n      }\n    });\n  }\n\n  getAllClassWithRemoved(token) {\n    var tList = [];\n    var tList2 = [];\n    getAllClassWithRemoved(token).then(data => {\n      if (data.data != null) {\n        data.data.forEach(info => {\n          var obj = {\n            value: info.cid,\n            label: info.is_removed === \"Yes\" ? info.classname + \" (Deleted)\" : info.classname\n          };\n          tList.push(obj);\n          var obj2 = {\n            value: info.cid,\n            is_removed: info.is_removed\n          };\n          tList2.push(obj2);\n        });\n        console.log(\"tList2:  \" + tList2);\n        this.setState({\n          allClass: tList\n        });\n        this.setState({\n          classIsRemovedStatus: tList2\n        });\n      }\n    });\n  } //******************* Load Table ********************/\n\n\n  loadFillData() {\n    if (this.state.list.length) {\n      return this.state.list.map(data => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.classname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: data.subjectname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.tname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: data.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn p-0\",\n              onClick: () => this.openUpdatePopup(data),\n              disabled: data.status === \"Archived\" ? true : false,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"20\",\n                height: \"20\",\n                fill: \"currentColor\",\n                class: \"bi bi-pencil-square\",\n                viewBox: \"0 0 16 16\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  \"fill-rule\": \"evenodd\",\n                  d: \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn p-0\",\n              onClick: () => this.deleteInfo(data.sid),\n              disabled: data.status === \"Archived\" ? true : false,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"20\",\n                height: \"20\",\n                fill: \"currentColor\",\n                class: \"bi bi-trash\",\n                viewBox: \"0 0 16 16\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  \"fill-rule\": \"evenodd\",\n                  d: \"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, data.sid, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this);\n      });\n    } else console.log(\"No data\");\n  } //******************* Show PopUp ********************/\n\n\n  openAddNewSubjectPopUp() {\n    var isClassRemoved = 0; //Check if the selected class is removed or not\n\n    for (var i = 0; i < this.state.classIsRemovedStatus.length; i++) {\n      if (this.state.classIsRemovedStatus[i].value === this.state.selectedClass) {\n        if (this.state.classIsRemovedStatus[i].is_removed === \"Yes\") {\n          isClassRemoved = 1;\n        }\n\n        break;\n      }\n    }\n\n    if (isClassRemoved === 1) {\n      alert(this.state.subjectInfo.classname + \" has been deleted. You can only see archived subjects\");\n    } else {\n      if (this.state.selectedClass) this.setState({\n        popupHeaderText: \"Add A New\",\n        popupBtnText: \"Add\",\n        subjectInfo: {\n          classname: this.state.subjectInfo.classname,\n          subjectname: '',\n          uid: '',\n          tname: ''\n        }\n      }, () => {\n        this.togglePopup();\n      });else alert(\"Please select a class\");\n    }\n  }\n\n  openUpdatePopup(data) {\n    this.setState({\n      popupHeaderText: \"Update\",\n      popupBtnText: \"Update\",\n      subjectInfo: {\n        classname: data.classname,\n        subjectname: data.subjectname,\n        uid: data.uid,\n        tname: data.tname,\n        sid: data.sid\n      },\n      selectedClass: data.cid\n    }, () => {\n      this.togglePopup();\n    });\n  }\n\n  togglePopup() {\n    this.setState({\n      showPopup: !this.state.showPopup\n    });\n  } //******************* Post PopUp Action ********************/\n\n\n  addSubject(data) {\n    var that = this;\n    var tempCid = data.cid;\n    checkSubjectExists(data.subjectname, data.uid, data.cid, that.state.token).then(response => {\n      if (!response.data.length) createSubject(data.sid, data.subjectname, data.status, data.uid, data.cid, that.state.token).then(res => {\n        if (res.status === \"SUCCESS\") {\n          that.togglePopup();\n          that.setState({\n            list: [],\n            popupHeaderText: \"\",\n            popupBtnText: \"\",\n            subjectInfo: {\n              classname: '',\n              subjectname: '',\n              tname: '',\n              uid: '',\n              status: ''\n            },\n            selectedClass: tempCid\n          }, () => {\n            that.LoadUpdatedData(tempCid, that.state.token);\n          });\n        } else {\n          alert(\"Error!!\");\n        }\n      });else alert(\"This Subject already existed\");\n    });\n  }\n\n  updateInfo(data) {\n    var that = this;\n    var tempCid = data.cid;\n    updateSubject(data, that.state.token).then(response => {\n      if (response.status === \"SUCCESS\") {\n        that.togglePopup();\n        that.setState({\n          list: [],\n          popupHeaderText: \"\",\n          popupBtnText: \"\",\n          subjectInfo: {\n            classname: '',\n            subjectname: '',\n            tname: '',\n            uid: '',\n            status: ''\n          },\n          selectedClass: tempCid\n        }, () => {\n          that.LoadUpdatedData(tempCid, that.state.token);\n        });\n      } else {\n        alert(response.message);\n      }\n    });\n  }\n\n  deleteInfo(sid) {\n    var that = this;\n    if (!window.confirm(\"Do you really want to delete it?\")) return;\n    deleteSubject(sid, that.state.token).then(data => {\n      alert(data.status + \": \" + data.message);\n      that.LoadUpdatedData(that.state.selectedClass, that.state.token);\n    });\n  }\n\n  closePopup() {\n    this.setState({\n      subjectInfo: {\n        classname: '',\n        subjectname: '',\n        tname: '',\n        uid: '',\n        status: ''\n      }\n    }, () => {\n      this.togglePopup();\n    });\n  } //******************** Load Updated Data After PopUp Action ************/\n\n\n  LoadUpdatedData(cid, token) {\n    getSubjectClassTeacherTogether(cid, token).then(data => {\n      this.setState({\n        list: data.data\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/m.asyam/Desktop/AcademicAxis/App/frontend/src/view/admin/Component/SubjectTab.js"],"names":["React","Dropdown","getUsersByRole","getAllClassWithRemoved","getSubjectClassTeacherTogether","checkSubjectExists","createSubject","updateSubject","deleteSubject","SubjectPopUp","SubjectTab","Component","constructor","props","state","allClass","allTeacher","list","classIsRemovedStatus","showPopup","selectedClass","popupHeaderText","popupBtnText","subjectInfo","classname","subjectname","tname","uid","status","token","onClassSelect","bind","loadFillData","openAddNewSubjectPopUp","addSubject","updateInfo","closePopup","togglePopup","componentDidMount","getAllTeacher","render","that","color","textAlign","margin","e","setState","label","value","then","data","tList","forEach","info","firstname","lastname","obj","push","tList2","cid","is_removed","obj2","console","log","length","map","openUpdatePopup","deleteInfo","sid","isClassRemoved","i","alert","tempCid","response","res","LoadUpdatedData","message","window","confirm"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Dropdown from \"react-dropdown\";\nimport {\n  getUsersByRole,\n  getAllClassWithRemoved,\n  getSubjectClassTeacherTogether,\n  checkSubjectExists,\n  createSubject,\n  updateSubject,\n  deleteSubject\n} from '../../../api/AdminAPI'\nimport SubjectPopUp from \"./SubjectPopUp\";\n\nimport './UserTab.css'\nimport '../../../App.css';\nimport 'react-dropdown/style.css';\n\n\nexport default class SubjectTab extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      allClass: [],\n      allTeacher: [],\n      list: [],\n      classIsRemovedStatus: [],\n      showPopup: false,\n      selectedClass: '',\n      popupHeaderText: '',\n      popupBtnText: '',\n      subjectInfo: {\n        classname: '',\n        subjectname: '',\n        tname: '',\n        uid: '',\n        status: ''\n      },\n      token: \"token \" + this.props.token\n    }\n    this.onClassSelect = this.onClassSelect.bind(this);\n    this.getAllClassWithRemoved = this.getAllClassWithRemoved.bind(this);\n    this.loadFillData = this.loadFillData.bind(this);\n    /// Popup functions\n    this.openAddNewSubjectPopUp = this.openAddNewSubjectPopUp.bind(this);\n    this.addSubject = this.addSubject.bind(this);\n    this.updateInfo = this.updateInfo.bind(this);\n    this.closePopup = this.closePopup.bind(this);\n    this.togglePopup = this.togglePopup.bind(this);\n  }\n\n  componentDidMount() {\n    var token = this.props.token;\n    this.getAllClassWithRemoved(\"tokeon \" + token);\n    this.getAllTeacher(\"tokeon \" + token);\n  }\n\n  render() {\n    var that = this;\n    return (\n      <div>\n        <h5 style={{ color: '#8c8c8c', textAlign: 'left', margin: '10px 0 10px 9.9%' }}>Subject Management</h5>\n        <div className=\"box-container\">\n          <div className=\"selection-area\">\n            <div className=\"dropDownItem card row justify-content-center align-items-center\">\n              <p><b>Select a class</b></p>\n              <Dropdown classname='style.dropDown'\n                options={this.state.allClass}\n                onChange={this.onClassSelect}\n                value={this.state.allClass[0]}\n                placeholder=\"Choose a class\"\n                placeholderClassName='myPlaceholderClassName' />\n            </div>\n            <div className=\"SecondItem card row justify-content-center align-items-center\">\n              <p><b>Add a new subject</b></p>\n              <button className=\"btn btn-success \" onClick={this.openAddNewSubjectPopUp}>Add</button>\n            </div>\n          </div>\n          <div className=\"table-box\">\n            <div className=\"ag-theme-alpine data-table\">\n              <div className=\"table-scroll\">\n                <table className=\"table table-hover\">\n                  <thead className=\"thead-light\">\n                    <tr key={\"user_key1\"}>\n                      <th scope=\"col\">Class</th>\n                      <th scope=\"col\">Subject</th>\n                      <th scope=\"col\">Teacher</th>\n                      <th scope=\"col\">Status</th>\n                      <th scope=\"col\">Update</th>\n                      <th scope=\"col\">Remove Subject</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {this.loadFillData()}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n          {that.state.showPopup ?\n            <SubjectPopUp subjectInfo={that.state.subjectInfo}\n              selectedClass={that.state.selectedClass}\n              allTeacher={this.state.allTeacher}\n              popupHeaderText={that.state.popupHeaderText}\n              popupBtnText={that.state.popupBtnText}\n              updateInfo={that.updateInfo}\n              addSubject={that.addSubject}\n              closePopup={that.closePopup}\n            /> : null}\n        </div>\n      </div>\n    )\n  }\n\n\n  //******************* Changes On Select ********************/\n\n  onClassSelect(e) {\n    var that = this;\n\n    that.setState({ subjectInfo: { classname: e.label } })\n\n    this.setState({ selectedClass: e.value }, () => {\n      getSubjectClassTeacherTogether(e.value, that.state.token).then(data => {\n        //debugger;\n        that.setState({ list: data.data })\n      })\n    })\n  }\n\n\n\n  //******************* Load Dropdown ********************/\n\n  getAllTeacher(token) {\n    var tList = [];\n    getUsersByRole(\"Teacher\", token).then(data => {\n      if (data.data != null) {\n        data.data.forEach(info => {\n          var tname = info.firstname + \" \" + info.lastname\n          var obj = { value: info.uid, label: tname }\n          tList.push(obj);\n        });\n        this.setState({ allTeacher: tList });\n      }\n    })\n  }\n\n  getAllClassWithRemoved(token) {\n    var tList = [];\n    var tList2 = [];\n    getAllClassWithRemoved(token).then(data => {\n      if (data.data != null) {\n        data.data.forEach(info => {\n          var obj = { value: info.cid, label: info.is_removed === \"Yes\" ? info.classname + \" (Deleted)\" : info.classname }\n          tList.push(obj);\n          var obj2 = { value: info.cid, is_removed: info.is_removed }\n          tList2.push(obj2)\n        });\n        console.log(\"tList2:  \" + tList2)\n        this.setState({ allClass: tList });\n        this.setState({ classIsRemovedStatus: tList2 });\n      }\n    })\n  }\n\n\n  //******************* Load Table ********************/\n\n  loadFillData() {\n    if (this.state.list.length) {\n\n      return this.state.list.map(data => {\n        return (\n          <tr key={data.sid}>\n            <td>{data.classname}</td>\n            <th>{data.subjectname}</th>\n            <td>{data.tname}</td>\n            <th>{data.status}</th>\n            <td>{<button className=\"btn p-0\" onClick={() => this.openUpdatePopup(data)} disabled={data.status === \"Archived\" ? true : false}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-pencil-square\" viewBox=\"0 0 16 16\">\n                <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"></path>\n                <path fill-rule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"></path>\n              </svg>\n              </button>}</td>\n            <td>{<button className=\"btn p-0\" onClick={() => this.deleteInfo(data.sid)} disabled={data.status === \"Archived\" ? true : false}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\n                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"></path>\n                <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"></path>\n              </svg>\n              </button>}</td>\n          </tr>\n        )\n      })\n    }\n    else console.log(\"No data\");\n  }\n\n\n\n  //******************* Show PopUp ********************/\n\n  openAddNewSubjectPopUp() {\n\n    var isClassRemoved = 0;\n\n    //Check if the selected class is removed or not\n    for (var i = 0; i < this.state.classIsRemovedStatus.length; i++) {\n      if (this.state.classIsRemovedStatus[i].value === this.state.selectedClass) {\n        if (this.state.classIsRemovedStatus[i].is_removed === \"Yes\") {\n          isClassRemoved = 1;\n        }\n        break;\n      }\n    }\n\n    if (isClassRemoved === 1) {\n      alert(this.state.subjectInfo.classname + \" has been deleted. You can only see archived subjects\");\n    } else {\n      if (this.state.selectedClass)\n        this.setState({\n          popupHeaderText: \"Add A New\",\n          popupBtnText: \"Add\",\n          subjectInfo: {\n            classname: this.state.subjectInfo.classname,\n            subjectname: '',\n            uid: '',\n            tname: ''\n          }\n        },\n          () => { this.togglePopup(); })\n      else alert(\"Please select a class\");\n    }\n  }\n\n\n  openUpdatePopup(data) {\n    this.setState({\n      popupHeaderText: \"Update\",\n      popupBtnText: \"Update\",\n      subjectInfo: {\n        classname: data.classname,\n        subjectname: data.subjectname,\n        uid: data.uid,\n        tname: data.tname,\n        sid: data.sid\n      },\n      selectedClass: data.cid\n    },\n      () => {\n        this.togglePopup();\n      })\n  }\n\n  togglePopup() {\n    this.setState({ showPopup: !this.state.showPopup });\n  }\n\n\n\n  //******************* Post PopUp Action ********************/\n\n  addSubject(data) {\n    var that = this;\n    var tempCid = data.cid;\n    checkSubjectExists(data.subjectname, data.uid, data.cid, that.state.token).then(response => {\n\n      if (!response.data.length)\n        createSubject(data.sid, data.subjectname, data.status, data.uid, data.cid, that.state.token).then(res => {\n          if (res.status === \"SUCCESS\") {\n            that.togglePopup();\n            that.setState({\n              list: [],\n              popupHeaderText: \"\",\n              popupBtnText: \"\",\n              subjectInfo: {\n                classname: '',\n                subjectname: '',\n                tname: '',\n                uid: '',\n                status: ''\n              },\n              selectedClass: tempCid\n            }, () => {\n              that.LoadUpdatedData(tempCid, that.state.token)\n            })\n          } else {\n            alert(\"Error!!\")\n          }\n        })\n      else alert(\"This Subject already existed\");\n    })\n\n  }\n\n  updateInfo(data) {\n    var that = this;\n    var tempCid = data.cid\n\n    updateSubject(data, that.state.token).then(response => {\n      if (response.status === \"SUCCESS\") {\n        that.togglePopup();\n        that.setState({\n          list: [],\n          popupHeaderText: \"\",\n          popupBtnText: \"\",\n          subjectInfo: {\n            classname: '',\n            subjectname: '',\n            tname: '',\n            uid: '',\n            status: ''\n          },\n          selectedClass: tempCid\n        }, () => {\n          that.LoadUpdatedData(tempCid, that.state.token)\n        })\n      } else {\n        alert(response.message)\n      }\n    })\n  }\n\n  deleteInfo(sid) {\n    var that = this;\n\n    if (!window.confirm(\"Do you really want to delete it?\")) return;\n    deleteSubject(sid, that.state.token).then(data => {\n      alert(data.status + \": \" + data.message);\n      that.LoadUpdatedData(that.state.selectedClass, that.state.token);\n    })\n  }\n\n  closePopup() {\n    this.setState({\n      subjectInfo: {\n        classname: '',\n        subjectname: '',\n        tname: '',\n        uid: '',\n        status: ''\n      }\n    },\n      () => {\n        this.togglePopup();\n      })\n  }\n\n  //******************** Load Updated Data After PopUp Action ************/\n\n  LoadUpdatedData(cid, token) {\n    getSubjectClassTeacherTogether(cid, token).then(data => {\n      this.setState({ list: data.data })\n    })\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module"}